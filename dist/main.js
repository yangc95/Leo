!function(){"use strict";var t=class{constructor(t,s){this.leo=t,this.map=s,this.storyline={spokeToShant:!1,foundPolly:!1,foundHewert:!1},this.currentPos={map:!0,pollysHouse:!1,hewertsHouse:!1}}storylines(){}};document.addEventListener("DOMContentLoaded",(()=>{const s=document.querySelector("#start-play"),e=document.querySelector("a.play-button"),i=document.querySelector("a.restart-button"),h=document.getElementById("mycanvas"),a=h.getContext("2d");h.width=500,h.height=500,a.imageSmoothingEnabled=!1;const r=new class{constructor(s,e,i){this.canvasElWidth=s,this.canvasElHeight=e,this.ctx=i,this.map=new class{constructor(t,s,e){this.width=t,this.height=s,this.ctx=e,this.magnify=5,this.xPos=0,this.yPos=0,this.map=new Image,this.map.src="src/assets/images/map/bgMap.png",this.house=new class{constructor(t){this.ctx=t,this.house=new Image}drawHewertsHouse(t,s){const e=this.house;e.src="src/assets/images/map_elements/hewertsHouse.png",this.ctx.drawImage(e,-70+t,-90+s,600,360)}}(this.ctx),this.room=new class{constructor(t,s,e){this.ctx=t,this.width=s,this.height=e,this.room={polly:new Image,hewert:new Image}}drawPollysRoom(){const t=this.room.polly;t.src="src/assets/images/map/pollysRoom.png",this.ctx.drawImage(t,0,0,this.width/5,this.height/5)}drawHewertsRoom(){const t=this.room.hewert;t.src="src/assets/images/map/hewertsRoom.png",this.ctx.drawImage(t,0,0,this.width,this.height)}}(this.ctx,t*this.magnify,s*this.magnify)}draw(t){let s=this.width*this.magnify;t.drawImage(this.map,0,0,this.map.width,this.map.height,this.xPos-this.map.width,this.yPos-this.map.height,s,s)}render(t,s){this.xPos=t,this.yPos=s}}(s,e,this.ctx),this.leo=new class{constructor(t,s,e){this.leo=new Image,this.leo.src="src/assets/images/sprite/LeoWalkCycle.png",this.x=t,this.y=s,this.ctx=e,this.size=100,this.dir=0,this.trotting=0,this.speed=.1,this.right=!1,this.left=!1,this.down=!1,this.up=!1}draw(){let t=this.size/4,s=Math.floor(this.trotting%4);this.ctx.drawImage(this.leo,s*t,this.dir*t,t,t,200,200,this.size,this.size)}render(){this.right&&this.x<1950?(this.dir=0,this.trotting+=this.speed,this.x+=3):this.left&&this.x>-460?(this.dir=1,this.trotting+=this.speed,this.x-=3):this.down&&this.y<1925?(this.dir=2,this.trotting+=this.speed,this.y+=3):this.up&&this.y>-500&&(this.dir=3,this.trotting+=this.speed,this.y-=3)}}(s/2,e/2,this.ctx),this.story=new t(this.leo,this.map),this.points=0,new class{constructor(t,s){document.addEventListener("keydown",(s=>{switch(s.preventDefault(),s.keyCode){case 37:case 65:t.left=!0;break;case 38:case 87:t.up=!0;break;case 39:case 68:t.right=!0;break;case 40:case 83:t.down=!0}})),document.addEventListener("keyup",(s=>{switch(s.preventDefault(),s.keyCode){case 37:case 65:t.left=!1;break;case 38:case 87:t.up=!1;break;case 39:case 68:t.right=!1;break;case 40:case 83:t.down=!1}}))}}(this.leo,this)}draw(){this.map.draw(this.ctx,this.canvasElWidth,this.canvasElHeight),this.leo.draw()}render(){let t=this.canvasElWidth/2-this.leo.x,s=this.canvasElHeight/2-this.leo.y;this.map.render(t,s),this.leo.render()}won(){return!!this.story.storyline.foundHewert}restart(){this.points=0,this.story=new t(this.leo,this.map)}}(h.width,h.height,a);function o(){if(r.won())return window.cancelAnimationFrame(window.animationId),void r.restart();a.clearRect(0,0,h.width,h.height),r.draw(),r.render(),requestAnimationFrame(o)}e.addEventListener("click",(()=>{e.style.visibility="hidden",s.style.visibility="hidden",o()})),i.addEventListener("click",(()=>{restart.Buttonstyle.visibility="visible"}))}))}();
//# sourceMappingURL=main.js.map